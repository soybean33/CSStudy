## 3.2 메모리  
CPU는 그저 메모리에 올라와 있는 **프로그램**의 명령어를 실행  

### 3.2.1 메모리 계층  
* 레지스터  
CPU 안에 있는 작은 메모리, 휘발성, 속도 가장 빠름, 기억 용량 가장 적음  
* 캐시  
L1, L2 캐시를 지칭, 휘발성, 속도 빠름, 기억 용량 적음  
* 주기억장치  
RAM, 휘발성, 속도 보통, 기억 용량 보통  
RAM은 하드디스크로부터 일정량의 데이터를 복사해서 임시 저장하고 필요시마다 CPU에게 빠르게 전달  
* 보조기억장치  
HDD, SSD, 비휘발성, 속도 느림, 기억 용량 많음  

#### 캐시(cache)  
데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치에서 속도 차이에 따른 병목현상을 줄이기 위한 메모리  
데이터를 접근하는 시간이 오래 걸리는 경우를 해결하고 무언가를 다시 계산하는 시간을 절약할 수 있음  

#### 지역성의 원리  
캐시를 직접 설정할 때는 자주 사용하는 데이터를 기반으로 설정  
시간 지역성은 최근 사용한 데이터에 다시 접근하려는 특성  
공간 지역성은 최근 접근한 데이터를 이루고 있는 공간이나 그 가까운 공간에 접근하는 특성  

#### 캐시히트와 캐시미스  
캐시히트: 캐시에서 원하는 데이터를 찾음, 해당 데이터를 제어장치를 거쳐 가져옴, 위치도 가깝고 CPU 내부 버스를 기반으로 작동하기 때문에 빠름  
캐시미스: 해당 데이터가 캐시에 없다면 주 메모리로 가서 데이터를 찾아옴, 데이터를 메모리에서 가져오게 되는데 시스템 버스를 기반으로 작동하기 때문에 느림  

##### 캐시매핑  
캐시가 히트되기 위해 매핑하는 방법  
* 직접 메핑(directed mapping): 메모리가 1 ~ 100이 있고 캐시가 1 ~ 10이 있다면 1:1~10, 2:1~20 ... 이런 식으로 매핑, 처리가 빠르지만 충돌 발생이 잦음  
* 연관 매핑(associative mapping): 순서를 일치시키지 않고 관련있는 캐시와 메모리를 매핑, 충돌이 적지만 모든 블록을 탐색해야 해서 속도가 느림  
* 집합 연관 매핑(set associative mapping): 직접 매핑과 연관 매핑을 합쳐 놓은 것, 순서를 일치시키지만 집합을 둬서 저장하며 블록화되어 있기 때문에 검색은 좀 더 효율적, 메모리가 1 ~ 100이 있고 캐시가 1 ~ 10이 있다면 캐시 1 ~ 5에는 1 ~ 50의 데이터를 무작위로 저장  

##### 웹 브라우저의 캐시  
소프트웨어적인 대표적인 캐시로는 웹 브라우저의 작은 저장소인, **쿠키**, **로컬 스토리지**, **세션 스토리지**가 있음  
정보를 웹 브라우저에 저장해서 추후 아이덴티티나 중복 요청 방지를 위해 쓰임  
* 쿠키  
만료기한을 정할 수 있는 키-값 저장소  
쿠키를 설정할 때는 document.cookie로 쿠키를 볼 수 없게 httponly 옵션을 거는 것이 중요  
보통 서버에서 만료기한을 정함  
* 로컬 스토리지  
만료기한이 없는 키-값 저장소  
웹 브라우저를 닫아도 저장되고 도메인 단위로 저장, 생성  
클라이언트에서만 수정가능  
* 세션 스토리지  
만료기한이 없는 키-값 저장소  
탭 단위로 세션 스토리지를 생성하며, 탭을 닫을 때 해당 데이터가 삭제  
클라이언트에서만 수정 가능  

##### 데이터베이스의 캐싱 계층  
데이터베이스 위에 레디스(radis) 데이터베이스 계층을 '캐싱 계층'으로 둬서 성능을 향상  

### 3.2.2 메모리 관리  
